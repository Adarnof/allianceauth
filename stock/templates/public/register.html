{% extends "public/base.html" %}
{% load bootstrap %}
{% load i18n %}
{% block title %}{{ SITE_NAME }} - Login{% endblock %}
{% block content %}
<div class="container" style="margin-top:50px">
    <div class="col-md-4 col-md-offset-4">
        <div class="panel panel-default panel-transparent">
            <div class="panel-body">
                {% if error %}
                    <div class="alert alert-danger" role="alert">{% trans "Username Already Registered" %}</div>
                {% endif %}
                <form action="{% url 'auth_register_user' %}" method="POST">
                    {% csrf_token %}
                    <h2 class="form-signin-heading">{% trans "Register Account" %}</h2>
                    {{ form|bootstrap }}
                    <button class="btn btn-lg btn-primary btn-block" type="submit">{% trans "Register" %}</button>
                </form>
            </div>
        </div>
        
        <div class="dropdown">
            <form action="{% url 'set_language' %}" method="post">
              {% csrf_token %}
              <input name="next" type="hidden" value="{{ request.get_full_path|slice:'3:' }}" />
              <select onchange="this.form.submit()" class="form-control" id="lang_select" name="language">
                {% get_language_info_list for LANGUAGES as languages %}
                  {% for language in languages %}
                    <option value="{{ language.code }}"{% if language.code == LANGUAGE_CODE %} selected="selected"{% endif %}>
                      {{ language.name_local }} ({{ language.code }})
                    </option>
                  {% endfor %}
              </select>
            </form>
        </div>
    </div>
</div>
{% endblock %}
